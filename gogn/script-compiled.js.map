{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  saekjaVideo();\n});\n\n/* Fallið sem sækir gögn í .json skrá með ajax og kallar svo á\n*  fall sem sér um að birta gögn */\nfunction saekjaVideo() {\n  var request = new XMLHttpRequest();\n\n  request.open('GET', 'videos.json', true);\n  request.onload = function () {\n    if (request.status == 200) {\n      var data = JSON.parse(request.response);\n      show(data);\n    }\n    else {\n      console.log('error');\n    }\n  }\n  request.onerror = function() {\n    console.error('Óþekkt villa');\n  };\n\n  request.send();\n}\n\n/* Fall sem sér um að birta gögnin sem búið er að sækja*/\nfunction show(gogn) {\n  // Byrjar á að finna hvað á að birta marga flokka af videoum\n  for (var i=0; i<gogn.categories.length; i++) {\n    const div = document.querySelector('.yfirlit'); // Eina div sem er harðkóðað í HTML\n    const flokkur = document.createElement('div'); // Div fyrir hvern flokk\n    const fyrirsogn = document.createElement('h2'); // Div fyrir fyrirsogn\n    const video = document.createElement('div');\n    const lina = document.createElement('hr');\n\n    // Bæta klösum fyrir CSS vinnu\n    flokkur.classList.add('flokkur');\n    fyrirsogn.classList.add('fyrirsogn');\n    video.classList.add('videoposter');\n\n    // Byrti fyrirsögn á flokknum\n    fyrirsogn.appendChild(document.createTextNode(gogn.categories[i].title));\n\n    // Set boxin í hverjum flokk á réttan stað\n    div.appendChild(flokkur);\n    flokkur.appendChild(fyrirsogn);\n    flokkur.appendChild(video);\n    flokkur.appendChild(lina);\n    // Fer í gegnum hvaða video á að birta í hverjum flokk\n    for (var j=0; j<gogn.categories[i].videos.length; j++) {\n\n      // Búa til þau box sem ég þarf\n      const box = document.createElement('div'); // box sem fær mynd, nafn á videoi og tímasetningu\n      const myndir = document.createElement('div'); // img div\n      const imgElement = document.createElement('img');\n      const duration = document.createElement('div');\n      const nafn = document.createElement('h3'); // Nafn á video\n      const hveGamalt = document.createElement('div');\n\n      // Bæta við klösum fyrir CSS\n      box.classList.add('poster');\n      myndir.classList.add('mynd');\n      duration.classList.add('duration');\n      hveGamalt.classList.add('hveGamalt');\n      // Setja box á rétta staði í HTML\n      video.appendChild(box);\n      box.appendChild(myndir);\n      box.appendChild(nafn);\n      box.appendChild(hveGamalt);\n\n      // Sækja poster fyrir rétt video\n      const videoID = gogn.categories[i].videos[j];\n      imgElement.src = gogn.videos[videoID-1].poster;\n      myndir.appendChild(imgElement);\n      myndir.appendChild(duration);\n      const lengd = durationToString(gogn.videos[videoID-1].duration);\n      duration.appendChild(document.createTextNode(lengd));\n      // Sækja og birta titil\n      nafn.appendChild(document.createTextNode(gogn.videos[videoID-1].title));\n\n      // Sækja tíma síðan video var búið til og fá viðeigandi streng til birtingar\n      const timi = timiSidan(gogn.videos[videoID-1].created);\n      hveGamalt.appendChild(document.createTextNode(timi));\n\n      box.addEventListener('click', function() {\n        console.log(videoID);\n        const currentURL = window.location;\n        window.location = currentURL + 'videos.html' + '?id=' + videoID;\n      })\n\n    }\n  }\n}\n\n/* Fall sem reiknar út tímann síðan að video var búið til\n*  og skilar formuðum streng */\nfunction timiSidan(sec) {\n  // Hve langt er á milli núna og hvenær videoið var búið til\n  const nuna = new Date();\n  const nunaSec = nuna.getTime();\n  const mismunur = nunaSec - sec ;\n  // Tölur sem þarf að nota og eru mjög ruglandi inni í kóðanum\n  const tvoAr = 63072000000;\n  const eittAr = 31536000000;\n  const tveirMan = 5184000000;\n  const einnMan = 2592000000;\n  const tvaerVik = 1209600000;\n  const einVik = 604800000;\n  const tveirDag = 172800000;\n  const einnDag = 86400000;\n  const tvaerKlst = 7200000;\n  const einKlst = 3600000;\n\n  // Löööng if/else setning sem kemst að því hvaða texta eigi að skila\n  if (mismunur > tvoAr) { // Meira en tvö ár\n    var arISec = mismunur;\n    var fjoldiAra = 2;\n    while ((arISec - eittAr) > eittAr) {\n      arISec = arISec - eittAr;\n      fjoldiAra++;\n    }\n    return 'Fyrir ' + fjoldiAra + ' árum síðan.';\n  } else if (mismunur > eittAr) { // Eitt ár\n    return 'Fyrir 1 ári síðan.';\n  } else if (mismunur > tveirMan) { // Meira en tveir mánuðir\n    var manISec = mismunur;\n    var fjoldiMan = 2;\n    while ((manISec - einnMan) > einnMan) {\n      manISec = manISec - einnMan;\n      fjoldiMan++;\n    }\n    return 'Fyrir ' + fjoldiMan + ' mánuðum síðan.';\n  } else if (mismunur > einnMan) { // Einn mánuður\n    return 'Fyrir 1 mánuði síðan.';\n  } else if (mismunur > tvaerVik) { // Meira en tvær vikur\n    var vikurISec = mismunur;\n    var fjoldiVikna = 2;\n    while ((vikurISec - einVik) > einVik) {\n      vikurISec = vikurISec - einVik;\n      fjoldiVikna++;\n    }\n    return 'Fyrir ' + fjoldiVikna + ' vikum síðan.';\n  } else if (mismunur > einVik) { // Ein vika\n    return 'Fyrir 1 viku síðan';\n  } else if (mismunur > tveirDag) { // Meira en tveir dagar\n    var dagISec = mismunur;\n    var fjoldiDaga = 2;\n    while ((dagISec - einnDag) > einnDag) {\n      dagISec = dagISec - einnDag;\n      fjoldiDaga++;\n    }\n    return 'Fyrir ' + fjoldiDaga + ' dögum síðan.';\n  } else if (mismunur > einnDag) { // Einn dagur\n    return 'Fyrir 1 degi síðan';\n  } else if (mismunur > tvaerKlst) { // Meira en tvær klukkustundir\n    var klstISec = mismunur;\n    var fjoldiKlst = 2;\n    while ((klstISec - einKlst) > einKlst) {\n      klstISec = klstISec - einKlst;\n      fjoldiKlst++;\n    }\n    return 'Fyrir ' + fjoldiKlst + ' klukkustundum síðan.';\n  } else { // Innan við ein klukkustund (minnsta eining)\n    return 'Fyrir 1 klukkustund síðan';\n  }\n}\n\n/* Fall sem tekur við lengd videos í sekúndum og skilar\n*  því í formuðum streng. Gert er ráð fyrir að video sé\n*  ekki meira en 24 klst*/\nfunction durationToString(num) {\n  // Stærðir sem þarf að nota\n  const dagur = 86400;\n  const klst = 3600;\n  const min = 60\n  const sec = 1;\n\n  if (num > dagur) {\n    return '>24:00:00'\n  }\n  var timi = num + 1;\n  // Hve margar klukkustundir\n  var klstA = 0;\n  while (timi > klst)  {\n    timi = timi - klst;\n    klstA++;\n  }\n  // Hve margar mínútur\n  var minA = 0;\n  while (timi > min)  {\n    timi = timi - min;\n    minA++;\n  }\n  // Hve margar sekúndur\n  var secA = 0;\n    while (timi > sec)  {\n      timi = timi - sec;\n      secA++;\n    }\n  /* Rosa flókin if/else setning.\n  *  Er skipt í tvennt til að geta birt lengd á forminu 00:00:00\n  *  og þá 8 möguleikar til að bæta 0 fyrir framan töluna ef hún\n  *  er minni en 10\n  *  Seinni hlutinn birtir lengd á forminu 00:00 og hefur 4\n  *  möguleika á að bæta 0 fyrir framan tölur minni en 10 */\n  if (klstA > 0) {\n    if (klstA < 10) {\n      if (minA < 10) {\n        if (secA < 10) {\n          return '0'+ klstA + ':0' + minA + ':0' + secA;\n        } else {\n          return '0'+ klstA + ':0' + minA + ':' + secA;\n        }\n      } else if (secA < 10) {\n        return '0'+ klstA + ':' + minA + ':0' + secA;\n      } else {\n        return '0'+ klstA + ':' + minA + ':' + secA;\n      }\n    } else if (minA < 10) {\n        if (secA < 10) {\n          return klstA + ':0' + minA + ':0' + secA;\n      } else {\n        return klstA + ':0' + minA + ':' + secA;\n      }\n    } else if (secA < 10) {\n      return klstA + ':' + minA + ':0' + secA;\n    } else {\n      return klstA + ':' + minA + ':' + secA;\n    }\n  } else {\n    if (minA < 10) {\n      if (secA < 10) {\n        return '0' + minA + ':0' + secA;\n      } else {\n        return '0' + minA + ':' + secA;\n      }\n    } else {\n      if (secA < 10) {\n        return minA + ':0' + secA;\n      } else {\n        return minA + ':' + secA;\n      }\n    }\n  }\n}\n"]}